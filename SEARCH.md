# البحث الشامل (Phase 7.2)

تمت إضافة بحث شامل داخل المنصة التجريبية تحت:

- صفحة البحث: `/app/search`
- API: `GET /app/api/search?q=...`

## ماذا يبحث؟

ضمن نفس المكتب (org) ووفق RLS (ومنها خصوصية القضايا الخاصة):

- العملاء: `name`, `email`, `phone`
- القضايا: `title`, `summary`
- المستندات: `title`, `description`
- المهام: `title`, `description`

> ملاحظة: نتائج القضايا/المستندات/المهام المرتبطة بقضية خاصة لا تظهر إلا للأعضاء المصرّح لهم أو المالك.

## الأداء

- يتم تحديد النتائج بحد أقصى `10` لكل مجموعة.
- هناك Rate limit خفيف على `/app/api/search`.
- تم إضافة مهاجرة `supabase/migrations/0010_search_indexes.sql` لإضافة فهارس بسيطة (org_id + title).

## الخصوصية

- لا يتم حفظ نص البحث في قاعدة البيانات.
- يمكن ملاحظة أحداث البحث في سجلات Vercel (logs) فقط بشكل عام.

